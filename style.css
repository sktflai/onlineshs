function toggleSidebar() {
    const sidebar = document.querySelector('.sidebar');
    const overlay = document.querySelector('.overlay');
    
    sidebar.classList.toggle('open');
    overlay.classList.toggle('active');
}

function showTab(tabId) {
    document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
    document.getElementById(tabId).classList.add('active');
    toggleSidebar(); // Auto-close sidebar after selecting a tab
}

let sessionStart = new Date();
let totalTime = parseInt(localStorage.getItem('totalStudyTime') || '0');

function updateMyPage() {
    document.getElementById('total-time').textContent = totalTime;

    const progressList = document.getElementById('subject-progress');
    progressList.innerHTML = '';
    const subjects = ['Pre-Calculus', 'General Biology 1', 'General Chemistry 1', 'General Physics 1', 'Earth Science'];
    subjects.forEach(subject => {
        const completed = localStorage.getItem(subject + '-progress') || '0';
        const li = document.createElement('li');
        li.innerHTML = `<strong>${subject}:</strong> ${completed}% complete`;
        progressList.appendChild(li);
    });
}

setInterval(() => {
    totalTime++;
    localStorage.setItem('totalStudyTime', totalTime);
    if (document.querySelector('#my-page').classList.contains('active')) {
        document.getElementById('total-time').textContent = totalTime;
    }
}, 60000);

updateMyPage();